‚úÖ K√∂nyvt√°rak l√©trehozva/ellen≈ërizve

================================================================================
üöÄ CRYPTO TRADING FRAMEWORK
================================================================================

üìã Konfigur√°ci√≥:
   Adatforr√°s: backtest
   Coinok: BTCUSDT, ETHUSDT
   Timeframes: 15s, 30s, 1min
   Workers: 4

üí∞ Backtest Be√°ll√≠t√°sok:
   Kezd≈ë t≈ëke: $200.0
   Adat k√∂nyvt√°r: /home/nangyal/Desktop/v5/data
   Stat k√∂nyvt√°r: /home/nangyal/Desktop/v5/stat
   Model: /home/nangyal/Desktop/v5/models/enhanced_forex_pattern_model.pkl

================================================================================
BACKTEST M√ìD
================================================================================


================================================================================
üöÄ BACKTEST IND√çT√ÅSA (MULTIPROCESSING)
================================================================================

Coinok: 2
  ‚Ä¢ BTCUSDT
  ‚Ä¢ ETHUSDT

Timeframes: ['15s', '30s', '1min']
Kezd≈ë t≈ëke: $200.0
Workers: 4

================================================================================
P√ÅRHUZAMOS FELDOLGOZ√ÅS IND√çT√ÅSA
================================================================================

Traceback (most recent call last):
  File "/home/nangyal/Desktop/v5/backtest.py", line 257, in run_single_coin_backtest
    sl, tp, direction, params = trading.calculate_pattern_targets(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/nangyal/Desktop/v5/trading_logic.py", line 109, in calculate_pattern_targets
    atr_pct = (atr / current_price) * 100
                     ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_price' where it is not associated with a value
Traceback (most recent call last):
  File "/home/nangyal/Desktop/v5/backtest.py", line 257, in run_single_coin_backtest
    sl, tp, direction, params = trading.calculate_pattern_targets(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/nangyal/Desktop/v5/trading_logic.py", line 109, in calculate_pattern_targets
    atr_pct = (atr / current_price) * 100
                     ^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'current_price' where it is not associated with a value

[Worker 2] üöÄ ETHUSDT backtest ind√≠t√°sa...
  üì• ETHUSDT: 1 CSV file bet√∂lt√©se...
  ‚úÖ ETHUSDT: 44,640 tick bet√∂ltve (2025-10-01 00:00:00 - 2025-10-31 23:59:00)
Model loaded from /home/nangyal/Desktop/v5/models/enhanced_forex_pattern_model.pkl (device: CPU)
  ‚úÖ Model bet√∂ltve: /home/nangyal/Desktop/v5/models/enhanced_forex_pattern_model.pkl
  üìä ETHUSDT - 15s timeframe feldolgoz√°sa...
    Candles: 44,640 (2025-10-01 00:00:00 - 2025-10-31 23:59:00)
    Quality signals: 6789

  ‚ùå ETHUSDT hiba: cannot access local variable 'current_price' where it is not associated with a value

[Worker 1] üöÄ BTCUSDT backtest ind√≠t√°sa...
  üì• BTCUSDT: 1 CSV file bet√∂lt√©se...
  ‚úÖ BTCUSDT: 44,640 tick bet√∂ltve (2025-10-01 00:00:00 - 2025-10-31 23:59:00)
Model loaded from /home/nangyal/Desktop/v5/models/enhanced_forex_pattern_model.pkl (device: CPU)
  ‚úÖ Model bet√∂ltve: /home/nangyal/Desktop/v5/models/enhanced_forex_pattern_model.pkl
  üìä BTCUSDT - 15s timeframe feldolgoz√°sa...
    Candles: 44,640 (2025-10-01 00:00:00 - 2025-10-31 23:59:00)
    Quality signals: 6900

  ‚ùå BTCUSDT hiba: cannot access local variable 'current_price' where it is not associated with a value

================================================================================
‚úÖ BACKTEST BEFEJEZVE
================================================================================

‚ö†Ô∏è  Nincs sikeres backtest

================================================================================
üìä EXCEL STATISZTIKA GENER√ÅL√ÅS
================================================================================

üìä Excel riport gener√°l√°sa...
  ‚úì Summary sheet
  ‚úì Detailed Results sheet
  ‚úì Per Coin Stats sheet (empty)
  ‚úì Per Timeframe Stats sheet (empty)
  ‚úì Top Performers sheet (empty)
‚úÖ Excel riport mentve: /home/nangyal/Desktop/v5/stat/backtest_report_20251122_123351.xlsx

‚úÖ Backtest befejezve!
üìÑ Excel report: /home/nangyal/Desktop/v5/stat/backtest_report_20251122_123351.xlsx
